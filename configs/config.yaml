# Main configuration file for training
# This file can be overridden or extended using Hydra's command-line interface
# Example: uv run src/mlops_project/train.py training.learning_rate=0.0001

# Data configuration
data:
  data_path: "data/processed"
  batch_size: 32

# Model configuration
model:
  embedding_dim: 128
  hidden_dim: 256
  num_layers: 2
  dropout: 0.3
  num_classes: 2

# Training configuration
training:
  epochs: 5
  learning_rate: 0.001
  accelerator: "auto"
  devices: 1

# Paths
paths:
  model_save_path: "models"
  log_dir: "logs"

# Weights & Biases configuration
wandb:
  enabled: true
  project: "ML Ops 102"
  entity: null
  tags: ["lstm", "fake-news-detection"]
  log_model: true

# Hydra configuration
hydra:
  run:
    dir: outputs/${now:%Y-%m-%d_%H-%M-%S}
  sweep:
    dir: multirun/${now:%Y-%m-%d_%H-%M-%S}
    subdir: ${hydra.job.num}

# Profiling configuration 
profiling:
  enabled: false
  trace_subdir: "profiler"
  use_cuda: "auto"

  # Common profiler toggles
  record_shapes: true
  profile_memory: false
  with_stack: false
  with_flops: false
  with_modules: false

  # Profiler schedule
  schedule:
    wait: 1
    warmup: 1
    active: 3
    repeat: 1

  # Text summary settings 
  table_sort_by: "self_cpu_time_total"
  table_row_limit: 50

# API configuration
api:
  logging_location: "data/api_logs/prediction_database.csv"
