{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"MLOps Project Documentation","text":"<p>Welcome to the documentation for the MLOps Fake News Detection project by Group 102.</p>"},{"location":"#project-overview","title":"Project Overview","text":"<p>This project implements a deep neural network for fake news detection using PyTorch. The focus is on understanding the end-to-end machine learning lifecycle rather than model complexity.</p> <p>Dataset: 44,919 news articles with title, text, and binary classification (fake/real) Model: LSTM-based Recurrent Neural Network Framework: PyTorch with comprehensive MLOps tooling</p>"},{"location":"#quick-links","title":"Quick Links","text":"<ul> <li>Workflow - Development workflow and project structure</li> <li>Running Locally - Setup and run the project on your machine</li> </ul>"},{"location":"#team","title":"Team","text":"<ul> <li>Julius Gregers Gliese Winkel (s234862)</li> <li>Rune Daugaard Harlyk (s234814)</li> <li>Christian Amtoft Nickelsen (s234863)</li> <li>Joseph An Duy Nguyen (s234826)</li> </ul>"},{"location":"local-setup/","title":"Running Locally","text":""},{"location":"local-setup/#prerequisites","title":"Prerequisites","text":"<ul> <li>Python: 3.13 or compatible version</li> <li>uv: Fast Python package installer and runner</li> <li>Git: For version control</li> <li>DVC: For data version control (optional, for pulling data)</li> </ul>"},{"location":"local-setup/#initial-setup","title":"Initial Setup","text":""},{"location":"local-setup/#1-clone-the-repository","title":"1. Clone the Repository","text":"<pre><code>git clone https://github.com/ChrAN103/ml_ops102.git\ncd ml_ops102\n</code></pre>"},{"location":"local-setup/#2-install-dependencies","title":"2. Install Dependencies","text":"<p>The project uses <code>uv</code> for fast dependency management:</p> <pre><code>uv sync\n</code></pre> <p>This installs all dependencies specified in <code>pyproject.toml</code>.</p>"},{"location":"local-setup/#3-pull-data-optional","title":"3. Pull Data (Optional)","text":"<p>If using DVC-tracked data:</p> <pre><code>dvc pull\n</code></pre> <p>This downloads the raw dataset and any tracked models.</p>"},{"location":"local-setup/#running-the-pipeline","title":"Running the Pipeline","text":""},{"location":"local-setup/#data-preprocessing","title":"Data Preprocessing","text":"<p>Convert raw CSV data to PyTorch tensors:</p> <pre><code>uv run invoke preprocess-data\n</code></pre> <p>Output files will be created in <code>data/processed/</code>:</p> <ul> <li><code>train.pt</code> - Training set</li> <li><code>val.pt</code> - Validation set</li> <li><code>test.pt</code> - Test set</li> </ul>"},{"location":"local-setup/#training","title":"Training","text":"<p>Train the model with default configuration:</p> <pre><code>uv run invoke train\n</code></pre> <p>Or run directly with custom parameters:</p> <pre><code>uv run python src/mlops_project/train.py training.epochs=10 training.learning_rate=0.001\n</code></pre> <p>Training outputs:</p> <ul> <li>Models: Saved to <code>models/</code> directory</li> <li>Logs: Saved to <code>logs/training/version_X/</code></li> <li>Outputs: Per-run logs in <code>outputs/YYYY-MM-DD_HH-MM-SS/</code></li> </ul>"},{"location":"local-setup/#evaluation","title":"Evaluation","text":"<p>Evaluate a trained model:</p> <pre><code>uv run invoke evaluate\n</code></pre>"},{"location":"local-setup/#running-the-api","title":"Running the API","text":"<p>Start the FastAPI service:</p> <pre><code>uv run python src/mlops_project/api.py\n</code></pre> <p>The API will be available at <code>http://localhost:8000</code>.</p>"},{"location":"local-setup/#api-endpoints","title":"API Endpoints","text":"<ul> <li><code>POST /predict</code> - Predict if news is fake or real</li> <li><code>GET /health</code> - Health check endpoint</li> <li><code>GET /metrics</code> - Prometheus metrics</li> </ul>"},{"location":"local-setup/#example-request","title":"Example Request","text":"<pre><code>curl -X POST \"http://localhost:8000/predict\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"title\": \"Breaking News\", \"text\": \"This is a news article...\"}'\n</code></pre>"},{"location":"local-setup/#development-tools","title":"Development Tools","text":""},{"location":"local-setup/#code-formatting","title":"Code Formatting","text":"<p>Format code with ruff:</p> <pre><code>uv run ruff format .\n</code></pre>"},{"location":"local-setup/#linting","title":"Linting","text":"<p>Check and fix linting issues:</p> <pre><code>uv run ruff check . --fix\n</code></pre>"},{"location":"local-setup/#testing","title":"Testing","text":"<p>Run all tests with coverage:</p> <pre><code>uv run invoke test\n</code></pre> <p>Run specific test files:</p> <pre><code>uv run pytest tests/test_data.py\nuv run pytest tests/test_model.py\n</code></pre> <p>Run integration tests:</p> <pre><code>uv run pytest tests/integrationtests/\n</code></pre>"},{"location":"local-setup/#pre-commit-hooks","title":"Pre-commit Hooks","text":"<p>Setup pre-commit hooks:</p> <pre><code>uv run pre-commit install\n</code></pre> <p>Run hooks manually:</p> <pre><code>uv run pre-commit run --all-files\n</code></pre>"},{"location":"local-setup/#docker-development","title":"Docker Development","text":""},{"location":"local-setup/#building-images","title":"Building Images","text":"<p>Build all Docker images:</p> <pre><code>uv run invoke docker-build\n</code></pre> <p>Or build individually:</p> <pre><code>docker build -t train:latest -f dockerfiles/train.dockerfile .\ndocker build -t api:latest -f dockerfiles/api.dockerfile .\n</code></pre>"},{"location":"local-setup/#running-containers","title":"Running Containers","text":""},{"location":"local-setup/#training-container","title":"Training Container","text":"<pre><code>docker run -v $(pwd)/data:/app/data -v $(pwd)/models:/app/models train:latest\n</code></pre>"},{"location":"local-setup/#api-container","title":"API Container","text":"<pre><code>docker run -p 8000:8000 -v $(pwd)/models:/app/models api:latest\n</code></pre>"},{"location":"local-setup/#configuration","title":"Configuration","text":""},{"location":"local-setup/#main-configuration","title":"Main Configuration","text":"<p>Edit <code>configs/config.yaml</code> to change:</p> <ul> <li>Model hyperparameters</li> <li>Training settings</li> <li>Data paths</li> <li>Logging configuration</li> </ul>"},{"location":"local-setup/#environment-specific-configs","title":"Environment-Specific Configs","text":"<ul> <li><code>config_cpu.yaml</code> - CPU-optimized settings</li> <li><code>config_gpu.yaml</code> - GPU-optimized settings</li> <li><code>config_cloud.yaml</code> - Cloud deployment settings</li> </ul>"},{"location":"local-setup/#using-different-configs","title":"Using Different Configs","text":"<pre><code>uv run python src/mlops_project/train.py --config-name=config_gpu\n</code></pre>"},{"location":"local-setup/#documentation","title":"Documentation","text":""},{"location":"local-setup/#building-documentation","title":"Building Documentation","text":"<p>Build the documentation site:</p> <pre><code>uv run invoke build-docs\n</code></pre> <p>Output is generated in <code>build/</code> directory.</p>"},{"location":"local-setup/#serving-documentation","title":"Serving Documentation","text":"<p>Serve docs locally with live reload:</p> <pre><code>uv run invoke serve-docs\n</code></pre> <p>Visit <code>http://127.0.0.1:8000</code> to view the documentation.</p>"},{"location":"local-setup/#troubleshooting","title":"Troubleshooting","text":""},{"location":"local-setup/#common-issues","title":"Common Issues","text":"<p>Import errors: Ensure you're using <code>uv run</code> prefix for Python commands</p> <p>Missing data: Run <code>dvc pull</code> or manually place data in <code>data/raw/</code></p> <p>CUDA errors: Switch to CPU config with <code>--config-name=config_cpu</code></p> <p>Port conflicts: Change API port with <code>--port</code> flag</p>"},{"location":"local-setup/#getting-help","title":"Getting Help","text":"<p>Check available invoke tasks:</p> <pre><code>uv run invoke --list\n</code></pre> <p>View task help:</p> <pre><code>uv run invoke --help &lt;task-name&gt;\n</code></pre>"},{"location":"workflow/","title":"Development Workflow","text":""},{"location":"workflow/#project-structure","title":"Project Structure","text":"<p>The project follows a standard MLOps structure with clear separation of concerns:</p> <pre><code>ml_ops102/\n\u251c\u2500\u2500 src/mlops_project/     # Source code\n\u2502   \u251c\u2500\u2500 data.py            # Data preprocessing\n\u2502   \u251c\u2500\u2500 train.py           # Model training\n\u2502   \u251c\u2500\u2500 evaluate.py        # Model evaluation\n\u2502   \u251c\u2500\u2500 models.py          # Model architecture\n\u2502   \u251c\u2500\u2500 api.py             # FastAPI service\n\u2502   \u2514\u2500\u2500 visualize.py       # Visualization utilities\n\u251c\u2500\u2500 tests/                 # Unit and integration tests\n\u251c\u2500\u2500 configs/               # Configuration files\n\u251c\u2500\u2500 data/                  # Data storage (raw/processed)\n\u251c\u2500\u2500 models/                # Trained model checkpoints\n\u251c\u2500\u2500 dockerfiles/           # Docker configurations\n\u2514\u2500\u2500 .github/workflows/     # CI/CD pipelines\n</code></pre>"},{"location":"workflow/#development-lifecycle","title":"Development Lifecycle","text":""},{"location":"workflow/#1-data-preprocessing","title":"1. Data Preprocessing","text":"<p>Process raw news data into PyTorch tensors:</p> <pre><code>uv run invoke preprocess-data\n</code></pre> <p>This reads from <code>data/raw/News.csv</code> and creates train/val/test splits in <code>data/processed/</code>.</p>"},{"location":"workflow/#2-model-training","title":"2. Model Training","text":"<p>Train the LSTM model with configurable hyperparameters:</p> <pre><code>uv run invoke train\n</code></pre> <p>Training uses:</p> <ul> <li>Hydra for configuration management (<code>configs/config.yaml</code>)</li> <li>PyTorch Lightning for training orchestration</li> <li>Weights &amp; Biases for experiment tracking</li> <li>Lightning checkpointing for model saving</li> </ul> <p>Checkpoints are saved to <code>models/</code> and logs to <code>logs/training/</code>.</p>"},{"location":"workflow/#3-model-evaluation","title":"3. Model Evaluation","text":"<p>Evaluate trained models on the test set:</p> <pre><code>uv run invoke evaluate\n</code></pre> <p>Generates metrics and saves results to the reports directory.</p>"},{"location":"workflow/#4-testing","title":"4. Testing","text":"<p>Run the full test suite with coverage:</p> <pre><code>uv run invoke test\n</code></pre> <p>Test categories:</p> <ul> <li>Unit tests: <code>tests/test_data.py</code>, <code>tests/test_model.py</code></li> <li>Integration tests: <code>tests/integrationtests/test_api.py</code></li> <li>Performance tests: <code>tests/performancetests/locustfile.py</code></li> </ul>"},{"location":"workflow/#5-code-quality","title":"5. Code Quality","text":"<p>The project uses pre-commit hooks for code quality:</p> <pre><code>uv run ruff format .\nuv run ruff check . --fix\nuv run pre-commit run --all-files\n</code></pre>"},{"location":"workflow/#configuration-management","title":"Configuration Management","text":"<p>Hydra manages configurations in the <code>configs/</code> directory:</p> <ul> <li><code>config.yaml</code> - Main configuration</li> <li><code>config_cloud.yaml</code> - Cloud-specific settings</li> <li><code>config_cpu.yaml</code> / <code>config_gpu.yaml</code> - Device-specific configs</li> </ul> <p>Override parameters via command line:</p> <pre><code>uv run python src/mlops_project/train.py training.epochs=20 training.batch_size=64\n</code></pre>"},{"location":"workflow/#version-control","title":"Version Control","text":""},{"location":"workflow/#data-versioning","title":"Data Versioning","text":"<p>DVC tracks large files:</p> <pre><code>dvc pull\ndvc push\n</code></pre> <p>Tracked files:</p> <ul> <li><code>data/raw/News.csv.dvc</code></li> <li><code>models/model.pt.dvc</code></li> </ul>"},{"location":"workflow/#code-versioning","title":"Code Versioning","text":"<p>Git tracks code with automated workflows:</p> <ul> <li>CI: Linting and testing on push</li> <li>CD: Docker builds and cloud deployment on merge</li> </ul>"},{"location":"workflow/#task-management","title":"Task Management","text":"<p>Use invoke for common tasks:</p> <pre><code>uv run invoke --list\n</code></pre> <p>Available tasks:</p> <ul> <li><code>preprocess-data</code> - Preprocess raw data</li> <li><code>train</code> - Train model</li> <li><code>evaluate</code> - Evaluate model</li> <li><code>test</code> - Run tests</li> <li><code>docker-build</code> - Build Docker images</li> <li><code>build-docs</code> - Build documentation</li> <li><code>serve-docs</code> - Serve documentation locally</li> </ul>"},{"location":"workflow/#monitoring-logging","title":"Monitoring &amp; Logging","text":""},{"location":"workflow/#training-monitoring","title":"Training Monitoring","text":"<p>Experiments are tracked with:</p> <ul> <li>Weights &amp; Biases: Real-time metrics and visualizations</li> <li>PyTorch Lightning logs: Local CSV logs in <code>logs/training/</code></li> <li>Hydra outputs: Per-run outputs in <code>outputs/YYYY-MM-DD_HH-MM-SS/</code></li> </ul>"},{"location":"workflow/#api-monitoring","title":"API Monitoring","text":"<p>The FastAPI service includes:</p> <ul> <li>Prometheus metrics: Endpoint <code>/metrics</code></li> <li>Health checks: Endpoint <code>/health</code></li> <li>Request logging: Structured JSON logs</li> </ul>"},{"location":"workflow/#docker-workflow","title":"Docker Workflow","text":"<p>Build containers locally:</p> <pre><code>uv run invoke docker-build\n</code></pre> <p>Run training in Docker:</p> <pre><code>docker run -v $(pwd)/data:/app/data -v $(pwd)/models:/app/models train:latest\n</code></pre> <p>Run API in Docker:</p> <pre><code>docker run -p 8000:8000 -v $(pwd)/models:/app/models api:latest\n</code></pre>"},{"location":"workflow/#continuous-integration","title":"Continuous Integration","text":"<p>GitHub Actions automatically:</p> <ol> <li>Run linting on every push</li> <li>Run tests on every push</li> <li>Build Docker images on merge to main</li> <li>Deploy to GCP Cloud Run on merge to main</li> </ol> <p>View workflow status in repository badges.</p>"}]}